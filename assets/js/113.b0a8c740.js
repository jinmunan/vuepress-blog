(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{443:function(s,a,t){"use strict";t.r(a);var e=t(3),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"帮助启动类命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#帮助启动类命令"}},[s._v("#")]),s._v(" 帮助启动类命令")]),s._v(" "),a("h2",{attrs:{id:"启动docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动docker"}},[s._v("#")]),s._v(" 启动Docker")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl start "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"停止docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#停止docker"}},[s._v("#")]),s._v(" 停止Docker")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl stop "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"重启docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启docker"}},[s._v("#")]),s._v(" 重启Docker")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看docker状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看docker状态"}},[s._v("#")]),s._v(" 查看Docker状态")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl status "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"开机启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开机启动"}},[s._v("#")]),s._v(" 开机启动")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看docker概要信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看docker概要信息"}},[s._v("#")]),s._v(" 查看Docker概要信息")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看docker总体帮助信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看docker总体帮助信息"}},[s._v("#")]),s._v(" 查看Docker总体帮助信息")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看docker命令帮助文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看docker命令帮助文档"}},[s._v("#")]),s._v(" 查看Docker命令帮助文档")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" 具体命令 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h1",{attrs:{id:"镜像命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像命令"}},[s._v("#")]),s._v(" 镜像命令")]),s._v(" "),a("h2",{attrs:{id:"docker-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-images"}},[s._v("#")]),s._v(" docker images")]),s._v(" "),a("h3",{attrs:{id:"列出本地镜像列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列出本地镜像列表"}},[s._v("#")]),s._v(" 列出本地镜像列表")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY    TAG       IMAGE ID       CREATED         SIZE\nhello-world   latest    feb5d9fea6a5   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" months ago   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(".3kB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"各个选项说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各个选项说明"}},[s._v("#")]),s._v(" 各个选项说明")]),s._v(" "),a("ul",[a("li",[s._v("REPOSITORY：表示镜像的仓库源")]),s._v(" "),a("li",[s._v("TAG：镜像的标签版本号IMAGE")]),s._v(" "),a("li",[s._v("ID：镜像ID")]),s._v(" "),a("li",[s._v("CREATED：镜像创建时间")]),s._v(" "),a("li",[s._v("SIZE：镜像大小")])]),s._v(" "),a("p",[s._v("同一仓库源可以有多个 TAG版本，代表这个仓库源的不同个版本，我们使用 REPOSITORY:TAG 来定义不同的镜像。")]),s._v(" "),a("p",[s._v("如果你不指定一个镜像的版本标签，例如你只使用 ubuntu，docker 将默认使用 ubuntu:latest 镜像。")]),s._v(" "),a("h3",{attrs:{id:"options说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options说明"}},[s._v("#")]),s._v(" options说明")]),s._v(" "),a("ul",[a("li",[s._v("-a 列出本地所有镜像（含历史镜像层）")]),s._v(" "),a("li",[s._v("-q 只显示镜像ID")])]),s._v(" "),a("h2",{attrs:{id:"docker-search-镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-search-镜像"}},[s._v("#")]),s._v(" docker search 镜像")]),s._v(" "),a("h3",{attrs:{id:"搜索远程仓库镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搜索远程仓库镜像"}},[s._v("#")]),s._v(" 搜索远程仓库镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search 镜像\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker search mysql")]),s._v("\nNAME                            DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\nmysql                           MySQL is a widely used, open-source relation…   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13390")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("       \nmariadb                         MariaDB Server is a high performing "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" sou…   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5110")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("       \nphpmyadmin                      phpMyAdmin - A web interface "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" MySQL and M…   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("666")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("       \npercona                         Percona Server is a fork of the MySQL relati…   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("592")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("       \nbitnami/mysql                   Bitnami MySQL Docker Image                      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78")]),s._v("                   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndataback/mysql-backup           Back up mysql databases to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". anywhere"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("                   \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"各个选项说明-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各个选项说明-2"}},[s._v("#")]),s._v(" 各个选项说明")]),s._v(" "),a("ul",[a("li",[s._v("NAME：镜像名称")]),s._v(" "),a("li",[s._v("DESCRIPTION：镜像说明")]),s._v(" "),a("li",[s._v("STARS：点赞数量")]),s._v(" "),a("li",[s._v("OFFICIAL：是否是官方的")]),s._v(" "),a("li",[s._v("AUTOMATED：是否是自动构建的")])]),s._v(" "),a("h3",{attrs:{id:"options说明-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options说明-2"}},[s._v("#")]),s._v(" options说明")]),s._v(" "),a("ul",[a("li",[s._v("-limit 只列出前N个镜像，默认是25个")])]),s._v(" "),a("h2",{attrs:{id:"docker-pull-镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-pull-镜像"}},[s._v("#")]),s._v(" docker pull 镜像")]),s._v(" "),a("h3",{attrs:{id:"下载镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像"}},[s._v("#")]),s._v(" 下载镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull 镜像\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull 镜像:版本\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("code",[s._v("docker pull 镜像")]),s._v("，如果不加版本号就等于"),a("code",[s._v("docker pull 镜像:latest")])]),s._v(" "),a("p",[a("code",[s._v("docker pull redis:6.0.8")]),s._v("，加了版本号就下载相关版本的镜像")]),s._v(" "),a("h2",{attrs:{id:"docker-system-df"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-system-df"}},[s._v("#")]),s._v(" docker system df")]),s._v(" "),a("h3",{attrs:{id:"查看镜像、容器、数据卷所占用的空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像、容器、数据卷所占用的空间"}},[s._v("#")]),s._v(" 查看镜像、容器、数据卷所占用的空间")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" systrm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker system df")]),s._v("\nTYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE\nImages               "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(".2MB   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v(".2MB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nContainers         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         0B              0B\nLocal Volumes   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         0B              0B\nBuild Cache       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         0B              0B\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"docker-rmi-镜像id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-rmi-镜像id"}},[s._v("#")]),s._v(" docker rmi 镜像ID")]),s._v(" "),a("h3",{attrs:{id:"删除镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[s._v("#")]),s._v(" 删除镜像")]),s._v(" "),a("h3",{attrs:{id:"删除单个"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除单个"}},[s._v("#")]),s._v(" 删除单个")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" 镜像ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"删除多个"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除多个"}},[s._v("#")]),s._v(" 删除多个")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("  镜像名:版本 镜像名:版本\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"删除全部"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除全部"}},[s._v("#")]),s._v(" 删除全部")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker虚悬镜像是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker虚悬镜像是什么"}},[s._v("#")]),s._v(" docker虚悬镜像是什么?")]),s._v(" "),a("p",[s._v("仓库名、标签都是"),a("code",[s._v("<none>")]),s._v("的镜像，俗称虚悬镜像dangling image")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/jinmunan/imgs@master/tool/docker/image-202210261456182591.png",alt:"image-20221026145618259"}})]),s._v(" "),a("h1",{attrs:{id:"容器命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器命令"}},[s._v("#")]),s._v(" 容器命令")]),s._v(" "),a("h2",{attrs:{id:"有镜像才能创建容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有镜像才能创建容器"}},[s._v("#")]),s._v(" 有镜像才能创建容器")]),s._v(" "),a("p",[s._v("以ubantu为例")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull ubuntu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/jinmunan/imgs@master/tool/docker/image-20221026150113105.png",alt:"image-20221026150113105"}})]),s._v(" "),a("h2",{attrs:{id:"新建并启动容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建并启动容器"}},[s._v("#")]),s._v(" 新建并启动容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run 镜像\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"options说明-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options说明-3"}},[s._v("#")]),s._v(" options说明")]),s._v(" "),a("p",[s._v("OPTIONS说明（常用）：有些是一个减号，有些是两个减号。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v('--name="容器新名字"    为容器指定一个名称；')])]),s._v(" "),a("li",[a("p",[s._v("-d: 后台运行容器并返回容器ID，也即启动守护式容器(后台运行)；")])]),s._v(" "),a("li",[a("p",[s._v("-i：以交互模式运行容器，通常与 -t 同时使用；")])]),s._v(" "),a("li",[a("p",[s._v("-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用；也称启动交互式容器(前台有伪终端，等待交互)；")])]),s._v(" "),a("li",[a("p",[s._v("-P: 随机端口映射，大写P")])]),s._v(" "),a("li",[a("p",[s._v("-p: 指定端口映射，小写p")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/jinmunan/imgs@master/tool/docker/image-20221026151049222.png",alt:"image-20221026151049222"}})]),s._v(" "),a("h3",{attrs:{id:"启动交互ubuntu容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动交互ubuntu容器"}},[s._v("#")]),s._v(" 启动交互ubuntu容器")]),s._v(" "),a("p",[s._v("以下命令表示以交互模式启动ubuntu，并在容器内执行/bin/bash命令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ubuntu /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it ubuntu /bin/bash ")]),s._v("\nroot@8e8cf51e2ba3:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\nroot@8e8cf51e2ba3:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\nroot@8e8cf51e2ba3:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("说明：/bin/bash，放在镜像名后面的是命令。表示希望通过交互式Shell，因此用的是"),a("code",[s._v("/bin/bash")]),s._v(",输入"),a("code",[s._v("exit")]),s._v("退出。")]),s._v(" "),a("h2",{attrs:{id:"列出当前所有正在运行的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列出当前所有正在运行的容器"}},[s._v("#")]),s._v(" 列出当前所有正在运行的容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID   IMAGE     COMMAND       CREATED         STATUS         PORTS     NAMES\n8e8cf51e2ba3   ubuntu    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" minutes ago   Up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" minutes             adoring_torvalds\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"options说明-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options说明-4"}},[s._v("#")]),s._v(" options说明")]),s._v(" "),a("ul",[a("li",[s._v("-a :列出当前所有正在运行的容器+历史上运行过的")]),s._v(" "),a("li",[s._v("-l :显示最近创建的容器。")]),s._v(" "),a("li",[s._v("-n：显示最近n个创建的容器。")]),s._v(" "),a("li",[s._v("-q :静默模式，只显示容器编号。")])]),s._v(" "),a("h2",{attrs:{id:"退出容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#退出容器"}},[s._v("#")]),s._v(" 退出容器")]),s._v(" "),a("h3",{attrs:{id:"exit退出方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exit退出方式"}},[s._v("#")]),s._v(" exit退出方式")]),s._v(" "),a("p",[a("mark",[s._v("容器停止")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"ctrl-p-q退出方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-p-q退出方式"}},[s._v("#")]),s._v(" ctrl+p+q退出方式")]),s._v(" "),a("p",[a("mark",[s._v("容器不停止")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ctrl+p+q\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"启动已停止运行的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动已停止运行的容器"}},[s._v("#")]),s._v(" 启动已停止运行的容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start 容器id或容器名称\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"重启容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启容器"}},[s._v("#")]),s._v(" 重启容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" restart 容器id或容器名称\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"停止容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#停止容器"}},[s._v("#")]),s._v(" 停止容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop 容器id或容器名称\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"强制停止容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#强制停止容器"}},[s._v("#")]),s._v(" 强制停止容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" 容器id或容器名称\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"删除已停止的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除已停止的容器"}},[s._v("#")]),s._v(" 删除已停止的容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticStyle:{color:"red"}},[s._v("一次性删除所有容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h1",{attrs:{id:"容器命令-以redis为例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器命令-以redis为例"}},[s._v("#")]),s._v(" 容器命令（以Redis为例）")]),s._v(" "),a("p",[s._v("有镜像才能创建容器，这是根本前提，以下命令以Rdis为例。")]),s._v(" "),a("h2",{attrs:{id:"下载redis6-0-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载redis6-0-8"}},[s._v("#")]),s._v(" 下载Redis6.0.8")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull redis:6.0.8\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ubuntu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果使用"),a("code",[s._v("docker run -d ubuntu")]),s._v("尝试启动守护式的ubuntu，会发现容器启动后就自动退出了。")]),s._v(" "),a("p",[s._v("因为Docker容器如果在后台运行，就必须要有一个前台进程。容器运行的命令如果不是那些一直挂起的命令（例如"),a("code",[s._v("top")]),s._v("、"),a("code",[s._v("tail")]),s._v("），就会自动退出。")]),s._v(" "),a("h2",{attrs:{id:"redis前后台启动演示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis前后台启动演示"}},[s._v("#")]),s._v(" Redis前后台启动演示")]),s._v(" "),a("p",[s._v("前台交互式启动，关闭窗口时容器会退出，不符合要求。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" redis:6.0.8\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("后台守护式启动，关闭窗口时容器不会退出。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" redis6.0.8\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看容器日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看容器日志"}},[s._v("#")]),s._v(" 查看容器日志")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs 容器ID或容器名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看容器内运行的进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看容器内运行的进程"}},[s._v("#")]),s._v(" 查看容器内运行的进程")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" 容器ID或容器名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看容器内部细节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看容器内部细节"}},[s._v("#")]),s._v(" 查看容器内部细节")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect 容器ID或容器名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"进入正在运行的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入正在运行的容器"}},[s._v("#")]),s._v(" 进入正在运行的容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" 容器ID bashShell\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" attach 容器ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"docker-exec-和-docker-attach-区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-exec-和-docker-attach-区别"}},[s._v("#")]),s._v(" "),a("code",[s._v("docker exec")]),s._v(" 和 "),a("code",[s._v("docker attach")]),s._v(" 区别：")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("attach")]),s._v("直接进入容器启动命令的终端，不会启动新的进程，用"),a("code",[s._v("exit")]),s._v("退出会导致容器的停止")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("exec")]),s._v("是在容器中打开新的终端，并且可以启动新的进程，用"),a("code",[s._v("exit")]),s._v("退出不会导致容器的停止")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);