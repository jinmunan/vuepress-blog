(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{395:function(s,a,e){"use strict";e.r(a);var t=e(3),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[s._v("序言")]),s._v(" "),a("p",[s._v("本内容是 MySQL-8.0.25 版本在云服务器的 Linux 系统下的安装步骤，Linux 系统为 CentOS 7，所以也会涉及到 systemctl 关于 MySQL 服务的管理。")])]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1、关键词解释"}},[s._v("1、关键词解释")])]),a("li",[a("a",{attrs:{href:"#_2、my-ini"}},[s._v("2、my.ini")])]),a("li",[a("a",{attrs:{href:"#_1、基础语法"}},[s._v("1、基础语法")])]),a("li",[a("a",{attrs:{href:"#_2、条件查询"}},[s._v("2、条件查询")])]),a("li",[a("a",{attrs:{href:"#_3、单行处理函数"}},[s._v("3、单行处理函数")])]),a("li",[a("a",{attrs:{href:"#_4、聚合函数"}},[s._v("4、聚合函数")])]),a("li",[a("a",{attrs:{href:"#_5、分组函数"}},[s._v("5、分组函数")])]),a("li",[a("a",{attrs:{href:"#_1、连接查询分类"}},[s._v("1、连接查询分类")])]),a("li",[a("a",{attrs:{href:"#_2、笛卡尔积现象"}},[s._v("2、笛卡尔积现象")])]),a("li",[a("a",{attrs:{href:"#_3、自连接"}},[s._v("3、自连接")])]),a("li",[a("a",{attrs:{href:"#_4、右外连接"}},[s._v("4、右外连接")])]),a("li",[a("a",{attrs:{href:"#_5、左外连接"}},[s._v("5、左外连接")])]),a("li",[a("a",{attrs:{href:"#_6、三张表查询"}},[s._v("6、三张表查询")])]),a("li",[a("a",{attrs:{href:"#_7、四张表查询"}},[s._v("7、四张表查询")])]),a("li",[a("a",{attrs:{href:"#_8、union合并"}},[s._v("8、union合并")])]),a("li",[a("a",{attrs:{href:"#_9、分页"}},[s._v("9、分页")])]),a("li",[a("a",{attrs:{href:"#_10、自然连接"}},[s._v("10、自然连接")])]),a("li",[a("a",{attrs:{href:"#_11、using"}},[s._v("11、USING")])]),a("li",[a("a",{attrs:{href:"#_12、sql执行顺序"}},[s._v("12、sql执行顺序")])]),a("li",[a("a",{attrs:{href:"#_1、where后面嵌套子查询"}},[s._v("1、where后面嵌套子查询")])]),a("li",[a("a",{attrs:{href:"#_2、from后面嵌套子查询"}},[s._v("2、from后面嵌套子查询")])]),a("li",[a("a",{attrs:{href:"#_3、select后面的子查询"}},[s._v("3、select后面的子查询")])]),a("li",[a("a",{attrs:{href:"#_4、单行子查询"}},[s._v("4、单行子查询")])]),a("li",[a("a",{attrs:{href:"#_5、多行子查询"}},[s._v("5、多行子查询")])]),a("li",[a("a",{attrs:{href:"#_6、聚合函数嵌套"}},[s._v("6、聚合函数嵌套")])]),a("li",[a("a",{attrs:{href:"#_1、表的创建"}},[s._v("1、表的创建")])]),a("li",[a("a",{attrs:{href:"#_2、字段数据类型"}},[s._v("2、字段数据类型")])]),a("li",[a("a",{attrs:{href:"#_3、表的删除"}},[s._v("3、表的删除")])]),a("li",[a("a",{attrs:{href:"#_4、表的修改"}},[s._v("4、表的修改")])]),a("li",[a("a",{attrs:{href:"#_5、数据库"}},[s._v("5、数据库")])]),a("li",[a("a",{attrs:{href:"#_6、ddl原子化"}},[s._v("6、DDL原子化")])]),a("li",[a("a",{attrs:{href:"#_1、常见约束"}},[s._v("1、常见约束")])]),a("li",[a("a",{attrs:{href:"#_2、非空约束"}},[s._v("2、非空约束")])]),a("li",[a("a",{attrs:{href:"#_3、唯一性约束"}},[s._v("3、唯一性约束")])]),a("li",[a("a",{attrs:{href:"#_4、主键约束"}},[s._v("4、主键约束")])]),a("li",[a("a",{attrs:{href:"#_5、外键约束"}},[s._v("5、外键约束")])]),a("li",[a("a",{attrs:{href:"#_6、级联更新-删除"}},[s._v("6、级联更新|删除")])]),a("li",[a("a",{attrs:{href:"#_7、check约束"}},[s._v("7、check约束")])]),a("li",[a("a",{attrs:{href:"#_8、default约束"}},[s._v("8、Default约束")])])])]),a("p"),s._v(" "),a("h1",{attrs:{id:"mysql基础篇"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql基础篇"}},[s._v("#")]),s._v(" MySQL基础篇")]),s._v(" "),a("h1",{attrs:{id:"一、mysql入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、mysql入门"}},[s._v("#")]),s._v(" 一、MySQL入门")]),s._v(" "),a("h2",{attrs:{id:"_1、关键词解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、关键词解释"}},[s._v("#")]),s._v(" 1、关键词解释")]),s._v(" "),a("ul",[a("li",[s._v("DB：数据")]),s._v(" "),a("li",[s._v("DBMS：数据库管理系统")]),s._v(" "),a("li",[s._v("sql：结构化查询语言")]),s._v(" "),a("li",[s._v("方言：每一款数据库管理软件的sql的差异")])]),s._v(" "),a("h2",{attrs:{id:"_2、my-ini"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、my-ini"}},[s._v("#")]),s._v(" 2、my.ini")]),s._v(" "),a("blockquote",[a("p",[s._v("在MySQL5.7中，最好修改一下字符集，MySQL8.0不需要")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[MySQL]\ndefault-character-set=utf-8\n[MySQLd]\ncharacter-set-server=utf8\ncollation-server=utf8_general_ci\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h1",{attrs:{id:"二、sql分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、sql分类"}},[s._v("#")]),s._v(" 二、SQL分类")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("DQL:(数据查询语言)查询语句,凡是select语句都是DQL query\nDML:(数据操作语言)对表数据进行增删改 insert delete update\nDDL:(数据定义语言)对表结构的增删改 create drop alter\nTCL:(事务控制语言)commit 提交事务,rollback 回滚事务\nDCL:(数据控制语言)grant 授权 revoke 撤销权限等\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h1",{attrs:{id:"三、dql语言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、dql语言"}},[s._v("#")]),s._v(" 三、DQL语言")]),s._v(" "),a("h2",{attrs:{id:"_1、基础语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、基础语法"}},[s._v("#")]),s._v(" 1、基础语法")]),s._v(" "),a("blockquote",[a("p",[s._v("增删改是DML语句")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("insert into 表 (VALUE...) value (值..)\ndelete from 表 where... `truncate table 表`\nupdate 表 set where...\nselect 字段 from 表 where 条件 group by 分组字段 having 分组之后的条件 order by 排序 limit 分页\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"_2、条件查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、条件查询"}},[s._v("#")]),s._v(" 2、条件查询")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("条件")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("where")]),s._v(" "),a("td",[s._v("条件查询")])]),s._v(" "),a("tr",[a("td",[s._v("<>或!=")]),s._v(" "),a("td",[s._v("不等于")])]),s._v(" "),a("tr",[a("td",[s._v("between...and")]),s._v(" "),a("td",[s._v("在什么之间")])]),s._v(" "),a("tr",[a("td",[s._v("or")]),s._v(" "),a("td",[s._v("或者")])]),s._v(" "),a("tr",[a("td",[s._v("in")]),s._v(" "),a("td",[s._v("在")])]),s._v(" "),a("tr",[a("td",[s._v("not in")]),s._v(" "),a("td",[s._v("不在")])]),s._v(" "),a("tr",[a("td",[s._v("is null")]),s._v(" "),a("td",[s._v("为空")])]),s._v(" "),a("tr",[a("td",[s._v("is not null")]),s._v(" "),a("td",[s._v("不为空")])]),s._v(" "),a("tr",[a("td",[s._v("like")]),s._v(" "),a("td",[s._v("模糊查询")])]),s._v(" "),a("tr",[a("td",[s._v("asc")]),s._v(" "),a("td",[s._v("升序")])]),s._v(" "),a("tr",[a("td",[s._v("desc")]),s._v(" "),a("td",[s._v("降序")])]),s._v(" "),a("tr",[a("td",[s._v("``")]),s._v(" "),a("td",[s._v("着重号")])]),s._v(" "),a("tr",[a("td",[s._v("查询常数")]),s._v(" "),a("td",[s._v("查询常数")])]),s._v(" "),a("tr",[a("td",[s._v("DESCRIBE")]),s._v(" "),a("td",[s._v("查询表结构")])])])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 条件查询\nselect * from emp where name = '\"张三\";\n\n-- <>或!=\nselect * from emp where salary <> 800;\nselect * from emp where salary != 800;\n\n-- between...and\nselect * from emp where salary between 1100 and 3000;\n\n-- or\nselect * from emp where job = 'SALESMAN' or job = 'MANAGER';\n\n-- in\nselect * from emp where job in('SALESMAN', 'MANAGER');\n\n-- not in\nselect * from emp where job not in('SALESMAN', 'MANAGER');\n\n-- is null\nselect * from emp where comm is null;\n\n-- is not null\nselect * from emp where comm is not null;\n\n-- like\nselect * from emp where name like '%O%';\n\n-- asc\nselect * from emp order by sal asc;\n\n-- desc\nselect * from emp order by sal desc;\n\n-- 查询常数\nselect '尚硅谷' from emp；\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("h2",{attrs:{id:"_3、单行处理函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、单行处理函数"}},[s._v("#")]),s._v(" 3、单行处理函数")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("单行处理函数")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("lower")]),s._v(" "),a("td",[s._v("转小写")])]),s._v(" "),a("tr",[a("td",[s._v("substr")]),s._v(" "),a("td",[s._v("截取字符串")])]),s._v(" "),a("tr",[a("td",[s._v("upper")]),s._v(" "),a("td",[s._v("转大写")])]),s._v(" "),a("tr",[a("td",[s._v("concat")]),s._v(" "),a("td",[s._v("字符串的拼接")])]),s._v(" "),a("tr",[a("td",[s._v("length")]),s._v(" "),a("td",[s._v("字符串长度")])]),s._v(" "),a("tr",[a("td",[s._v("trim")]),s._v(" "),a("td",[s._v("去空格")])]),s._v(" "),a("tr",[a("td",[s._v("str_to_date")]),s._v(" "),a("td",[s._v("将字符串转换成日期")])]),s._v(" "),a("tr",[a("td",[s._v("date_format")]),s._v(" "),a("td",[s._v("格式化日期")])]),s._v(" "),a("tr",[a("td",[s._v("format")]),s._v(" "),a("td",[s._v("设置千分位")])]),s._v(" "),a("tr",[a("td",[s._v("case..when..then..when..then..else..end")]),s._v(" "),a("td",[s._v("当...然后...当...然后...最后")])]),s._v(" "),a("tr",[a("td",[s._v("round")]),s._v(" "),a("td",[s._v("四舍五入")])]),s._v(" "),a("tr",[a("td",[s._v("rand")]),s._v(" "),a("td",[s._v("生成随机数")])]),s._v(" "),a("tr",[a("td",[s._v("ifnull")]),s._v(" "),a("td",[s._v("空值处理函数")])]),s._v(" "),a("tr",[a("td",[s._v("if（三元表达式）")]),s._v(" "),a("td",[s._v("三元表达式")])])])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- lower()\nselect lower(NAME) from emp;\n\n-- substr()\nselect substr(ename, 1, 2) as ename from emp;\n\n-- upper()\nselect upper(ename) from emp;\n\n-- concat()\nselect concat(empno,ename) from emp;\n\n-- length()\nselect length(ename) enamelength from emp;\n\n-- 获取时间、日期\nselect CURDATE(),CURRENT_DATE(),CURTIME(),NOW(),SYSDATE(),UTC_DATE(),UTC_TIME() from dual;\n\n-- 时间转字符串\nselect DATE_FORMAT(now(),'%Y-%m-%d %H:%m:%s');\n\n-- 字符串转时间\nselect STR_TO_DATE('2022-05-19 23:05:50','%Y-%m-%d %H:%m:%s');\n\n-- trim()\nselect * from emp where ename = trim('   KING');\n\n-- 当...然后...当...然后...最后\nselect (case  when job = 'MANAGER' then sal*1.1 when job = 'SALESMAN' then sal*1.5 else sal end) as newsal from emp;\n\n-- round()\nselect round(1236.567, 0) as result from emp;  `1237`\n\n-- rand()\nselect round(rand()*100,0) as randNum from emp;\n\n-- ifnull()\nselect ename, (sal + ifnull(comm, 0)) * 12 as yearsal from emp;\n\n-- 三元表达式\nselect if(age>1,'1','2') from dual;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h2",{attrs:{id:"_4、聚合函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、聚合函数"}},[s._v("#")]),s._v(" 4、聚合函数")]),s._v(" "),a("blockquote",[a("p",[s._v("聚合函数计算排除null值")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("聚合函数")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("count")]),s._v(" "),a("td",[s._v("计数")])]),s._v(" "),a("tr",[a("td",[s._v("sum")]),s._v(" "),a("td",[s._v("求和")])]),s._v(" "),a("tr",[a("td",[s._v("avg")]),s._v(" "),a("td",[s._v("平均值")])]),s._v(" "),a("tr",[a("td",[s._v("max")]),s._v(" "),a("td",[s._v("最大值")])]),s._v(" "),a("tr",[a("td",[s._v("min")]),s._v(" "),a("td",[s._v("最小值")])])])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- count()\nselect count(*) from emp;\n-- sum()\nselect sum(sal) from emp;\n-- avg()\nselect avg(sal) from emp;\n-- max()\nselect max(sal) from emp;\n-- min()\nselect min(sal) from emp;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"_5、分组函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、分组函数"}},[s._v("#")]),s._v(" 5、分组函数")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("分组函数")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("having")]),s._v(" "),a("td",[s._v("having必须和group by联合使用")])]),s._v(" "),a("tr",[a("td",[s._v("distinct")]),s._v(" "),a("td",[s._v("去重")])]),s._v(" "),a("tr",[a("td",[s._v("limit")]),s._v(" "),a("td",[s._v("方言(oralce没有)")])])])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- having必须和group by联合使用\nselect deptno,max(sal) from emp group by deptno having max(sal) > 3000;\n\n-- distinct\nselect distinct job from emp;\n\n-- 开始的索引= (当前页-1)*每页条数\nselect * from emp limit 0,1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h1",{attrs:{id:"四、连接查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、连接查询"}},[s._v("#")]),s._v(" 四、连接查询")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/jinmunan/imgs@master/MySQL/image-20220519225012690.png",alt:"image-20220519225012690"}})]),s._v(" "),a("h2",{attrs:{id:"_1、连接查询分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、连接查询分类"}},[s._v("#")]),s._v(" 1、连接查询分类")]),s._v(" "),a("ul",[a("li",[s._v("内连接")]),s._v(" "),a("li",[s._v("外连接")]),s._v(" "),a("li",[s._v("子查询")])]),s._v(" "),a("h2",{attrs:{id:"_2、笛卡尔积现象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、笛卡尔积现象"}},[s._v("#")]),s._v(" 2、笛卡尔积现象")]),s._v(" "),a("blockquote",[a("p",[s._v("当两张表进行连接查询，没有任何条件限制的时候，最终查询结果条数，是两张表条数的乘积，这种现象被称为：笛卡尔积现象")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select * from emp,dept where emp.DEPTNO = dept.DEPTNO\n\nselect * from emp inner JOIN dept on emp.DEPTNO = dept.DEPTNO\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_3、自连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、自连接"}},[s._v("#")]),s._v(" 3、自连接")]),s._v(" "),a("blockquote",[a("p",[s._v("最大特点是:把一张表看作两张表,自己连接自己")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select a.ename as '员工名',b.ename as '领导' from emp a , emp b where a.mgr = b.empno;\n\nselect a.ename as '员工名' , b.ename as '领导'  from emp a inner join emp b on a.mgr = b.empno;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_4、右外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、右外连接"}},[s._v("#")]),s._v(" 4、右外连接")]),s._v(" "),a("blockquote",[a("p",[s._v("right代表将join关键字右边的这张表看成主表,主要是为了将这张表的内容全部查询出来,捎带关联查询左边的表")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select e.ename,d.dname from emp e right join dept d on e.deptno = d.deptno;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_5、左外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、左外连接"}},[s._v("#")]),s._v(" 5、左外连接")]),s._v(" "),a("blockquote",[a("p",[s._v("left代表将join关键字左边的这张表看成主表,主要是为了将这张表的内容全部查询出来,捎带关联查询右边的表")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select e.ename,d.dname from dept d left join emp e on e.deptno = d.deptno;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6、三张表查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、三张表查询"}},[s._v("#")]),s._v(" 6、三张表查询")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SELECT\n\te.ename,\n\te.sal,\n\td.dname,\n\ts.grade \nFROM\n\temp e\n\tJOIN dept d ON e.deptno = d.deptno\n\tJOIN salgrade s ON e.sal BETWEEN s.losal \n\tAND s.hisal;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"_7、四张表查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、四张表查询"}},[s._v("#")]),s._v(" 7、四张表查询")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SELECT\n\te.ename,\n\te.sal,\n\td.dname,\n\ts.grade,\n\tl.ename \nFROM\n\temp e\n\tJOIN dept d ON e.deptno = d.deptno\n\tJOIN salgrade s ON e.sal BETWEEN s.losal \n\tAND s.hisal\n\tLEFT JOIN emp l ON e.mgr = l.empno;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"_8、union合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、union合并"}},[s._v("#")]),s._v(" 8、union合并")]),s._v(" "),a("blockquote",[a("p",[s._v("union和unionall:在明确没有重复记录的两表时使用unionall")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select * from emp union select * from dept\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_9、分页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、分页"}},[s._v("#")]),s._v(" 9、分页")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- MySQL5.7\nselect * from emp limit 31,2\n-- MySQL8.0\nselect * from emp limit 2 offset 31\n-- oracle\nselect rownum,empid from emp where row <= 10\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"_10、自然连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、自然连接"}},[s._v("#")]),s._v(" 10、自然连接")]),s._v(" "),a("blockquote",[a("p",[s._v("新语法：自动匹配两边相同的字段,比较鸡肋")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select * from emp natural join dept\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_11、using"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11、using"}},[s._v("#")]),s._v(" 11、USING")]),s._v(" "),a("blockquote",[a("p",[s._v("新语法：就是自然连接添加了匹配条件")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select * from emp  join dept_copy1 USING (dept_id)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_12、sql执行顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12、sql执行顺序"}},[s._v("#")]),s._v(" 12、sql执行顺序")]),s._v(" "),a("blockquote",[a("p",[s._v("前向引用，where中不能包含聚合函数")]),s._v(" "),a("p",[s._v("from->on->join->where->groupby->having->select->distinct->orderby->limit")])]),s._v(" "),a("h1",{attrs:{id:"五、子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、子查询"}},[s._v("#")]),s._v(" 五、子查询")]),s._v(" "),a("blockquote",[a("p",[s._v("select语句中嵌套select语句,被嵌套的select语句成为子查询")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select\n\t..(select).\nfrom\n\t..(select).\nwhere\n\t..(select).\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"_1、where后面嵌套子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、where后面嵌套子查询"}},[s._v("#")]),s._v(" 1、where后面嵌套子查询")]),s._v(" "),a("blockquote",[a("p",[s._v("子查询先执行,比having效率高")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select ename,sal from emp where sal > (select min(sal) from emp);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2、from后面嵌套子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、from后面嵌套子查询"}},[s._v("#")]),s._v(" 2、from后面嵌套子查询")]),s._v(" "),a("blockquote",[a("p",[s._v("from后面的子查询语句,可以将子查询的结果当作一张临时表")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select t.*,s.grade from salgrade s join (select job,avg(sal) sal from emp group by job) t on t.sal between s.losal and s.hisal;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3、select后面的子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、select后面的子查询"}},[s._v("#")]),s._v(" 3、select后面的子查询")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select e.ename, (select d.dname from dept d where e.deptno=d.deptno) as dname from emp e;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_4、单行子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、单行子查询"}},[s._v("#")]),s._v(" 4、单行子查询")]),s._v(" "),a("blockquote",[a("p",[s._v("内查询只返回一个数据")])]),s._v(" "),a("h2",{attrs:{id:"_5、多行子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、多行子查询"}},[s._v("#")]),s._v(" 5、多行子查询")]),s._v(" "),a("blockquote",[a("p",[s._v("内查询返回多个数据 in any(任意) all(所有) some(同any)")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select * from emp where salary in (select min(salary) from emp GROUP BY dept_id)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6、聚合函数嵌套"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、聚合函数嵌套"}},[s._v("#")]),s._v(" 6、聚合函数嵌套")]),s._v(" "),a("blockquote",[a("p",[s._v("MySQL不支持聚合函数嵌套，oracle支持聚合函数嵌套")])]),s._v(" "),a("div",{staticClass:"language-oracle line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select min(avg(sal)) from emp group by dept_id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select min(avg_sal) from (select avg(sal) avg_sal from emp group by dept_id) t_dept_avg_sal\n\nselect dept_id from emp GROUP BY dept_id HAVING AVG(salary) <= ALL(SELECT AVG(salary) avg_sal from emp GROUP BY dept_id)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h1",{attrs:{id:"六、ddl语言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、ddl语言"}},[s._v("#")]),s._v(" 六、DDL语言")]),s._v(" "),a("blockquote",[a("p",[s._v("DDL和DML默认都是不能回滚的，因为设置了自动commit，所以使用需要慎重")])]),s._v(" "),a("h2",{attrs:{id:"_1、表的创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、表的创建"}},[s._v("#")]),s._v(" 1、表的创建")]),s._v(" "),a("blockquote",[a("p",[s._v("表名:建议以t_ 或者tb_开始")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 创建表\nCREATE TABLE IF NOT EXISTS t_mytable(\n\n);\n\n-- 查看表结构\nDESC t_mytable\n\n-- 基于查询创建表\ncreate table emp_copy as select * from emp;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"_2、字段数据类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、字段数据类型"}},[s._v("#")]),s._v(" 2、字段数据类型")]),s._v(" "),a("blockquote",[a("p",[s._v("数据类型就用int，小数类型就用decimal，日期类型就用datetime")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/jinmunan/imgs@master/MySQL/image-20220520091626866.png",alt:"image-20220520091626866"}})]),s._v(" "),a("h2",{attrs:{id:"_3、表的删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、表的删除"}},[s._v("#")]),s._v(" 3、表的删除")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 删除表和表结构\ndrop table if exists t_student;\n\n-- 清空表但是保留表结构\ntruncate table t_student\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_4、表的修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、表的修改"}},[s._v("#")]),s._v(" 4、表的修改")]),s._v(" "),a("blockquote",[a("p",[s._v("表一旦设计完成后几乎不会修改表结构,不然会更改大量java代码,成本较高,由设计人员承担,使用工具增删改!!!")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("alter table student rename to studentrename;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_5、数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、数据库"}},[s._v("#")]),s._v(" 5、数据库")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 常创建库\nCREATE DATABASE IF NOT EXISTS t_test CHARACTER SET 'UTF8';\n\n-- 展示数据库中的表\nSHOW TABLES;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_6、ddl原子化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、ddl原子化"}},[s._v("#")]),s._v(" 6、DDL原子化")]),s._v(" "),a("blockquote",[a("p",[s._v("MySQL8中支持DDL原子化，比如说删除两张表，一张存在，一张不存在，同时删除会报错，存在的表不会删除，在MySQL5.7中会删除")])]),s._v(" "),a("h1",{attrs:{id:"七、约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、约束"}},[s._v("#")]),s._v(" 七、约束")]),s._v(" "),a("h2",{attrs:{id:"_1、常见约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、常见约束"}},[s._v("#")]),s._v(" 1、常见约束")]),s._v(" "),a("blockquote",[a("p",[s._v("1.非空约束(not null)：约束的字段不能为NULL")]),s._v(" "),a("p",[s._v("2.唯一性约束(unique)：约束的字段不能重复")]),s._v(" "),a("p",[s._v("3.主键约束(primary key)：约束的字段既不能为NULL，也不能重复")]),s._v(" "),a("p",[s._v("4.外键约束(foreign key)")])]),s._v(" "),a("h2",{attrs:{id:"_2、非空约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、非空约束"}},[s._v("#")]),s._v(" 2、非空约束")]),s._v(" "),a("blockquote",[a("p",[s._v("约束字段不能为空")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table STU(\n\tid INT,\n\tname VARCHAR(20) NOT NULL \n)\n//删除约束\nALTER TABLE STU MODIFY NAME VARCHAR(20);\n//添加约束\nALTER TABLE STU MODIFY NAME VARCHAR(20) NOT NULL;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"_3、唯一性约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、唯一性约束"}},[s._v("#")]),s._v(" 3、唯一性约束")]),s._v(" "),a("blockquote",[a("p",[s._v("约束字段不能重复,但可以为null")]),s._v(" "),a("p",[s._v("唯一性约束有表级约束(两个字段联合唯一)")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#比如:unique (name,email)\nname \t\temail\nzhangsan\tzhangsan@sina.com\nzhangsan\tzhangsan@163.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table STU(\n\tid INT,\n\tname VARCHAR(20) UNIQUE\n)\n//删除约束\nALTER TABLE STU MODIFY NAME VARCHAR(20);\n//添加约束\nALTER TABLE STU MODIFY NAME VARCHAR(20) UNIQUE;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"_4、主键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、主键约束"}},[s._v("#")]),s._v(" 4、主键约束")]),s._v(" "),a("blockquote",[a("p",[s._v("约束字段不能为NULL，也不能重复")]),s._v(" "),a("p",[s._v("自然主键:业务没有挂钩的自然数")]),s._v(" "),a("p",[s._v("业务主键:类似银行卡号")]),s._v(" "),a("p",[s._v("主键自增:auto_increment")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table STU(\n\tid INT PRIMARY KEY,\n\tname VARCHAR(20) \n)\n//删除约束\nALTER TABLE STU DROP PRIMARY KEY;\n//添加约束\nALTER TABLE STU MODIFY id INT PRIMARY KEY;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table STU(\n\tid INT PRIMARY KEY AUTO_INCREMENT,\n\tname VARCHAR(20) \n)\n//删除约束\nALTER TABLE STU MODIFY id INT;\n//添加约束\nALTER TABLE STU MODIFY id INT PRIMARY KEY;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"_5、外键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、外键约束"}},[s._v("#")]),s._v(" 5、外键约束")]),s._v(" "),a("blockquote",[a("p",[s._v("外键约束将表拆分的更加简洁,并且仍然有联系,阿里巴巴规定不得使用外键和级联")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table DEPT(\n\tid INT PRIMARY KEY AUTO_INCREMENT,\n\tDEP_NAME VARCHAR(20) \n)\n\ncreate table EMP(\n\tid INT PRIMARY KEY AUTO_INCREMENT,\n\tEMP_NAME VARCHAR(20),\n    DEPT_id INT,\n    CONSTRAINT EMP_DEPT_FK FOREIGN KEY (DEPT_id) REFERENCES DEPT (ID)\n)\n\n//删除外键\nALTER TABLE EMP DROP FOREIGN KEY EMP_DEPT_FK\n\n//添加外键\nALTER TABLE EMP ADD CONSTRAINT EMP_DEPT_FK FOREIGN KEY (DEPT_id) REFERENCES DEPT (ID)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h2",{attrs:{id:"_6、级联更新-删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、级联更新-删除"}},[s._v("#")]),s._v(" 6、级联更新|删除")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER TABLE EMP ADD CONSTRAINT EMP_DEPT_FK FOREIGN KEY (DEPT_id) REFERENCES DEPT (ID) ON UPDATE CASCADE ON DELETE CASCADE\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_7、check约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、check约束"}},[s._v("#")]),s._v(" 7、check约束")]),s._v(" "),a("blockquote",[a("p",[s._v("校验，MySQL5.7不支持")])]),s._v(" "),a("h2",{attrs:{id:"_8、default约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、default约束"}},[s._v("#")]),s._v(" 8、Default约束")]),s._v(" "),a("blockquote",[a("p",[s._v("不要让表中出现null值")])])])}),[],!1,null,null,null);a.default=n.exports}}]);