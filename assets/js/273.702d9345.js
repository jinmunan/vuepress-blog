(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{603:function(_,t,e){"use strict";e.r(t);var a=e(3),v=Object(a.a)({},(function(){var _=this,t=_._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"数据库设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库设计"}},[_._v("#")]),_._v(" 数据库设计")]),_._v(" "),t("h2",{attrs:{id:"数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[_._v("#")]),_._v(" 数据库")]),_._v(" "),t("p",[_._v("创建数据库：guli_edu")]),_._v(" "),t("h2",{attrs:{id:"数据表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据表"}},[_._v("#")]),_._v(" 数据表")]),_._v(" "),t("p",[_._v("执行sql脚本")]),_._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[_._v("guli_edu.sql\n")])]),_._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[_._v("1")]),t("br")])]),t("h2",{attrs:{id:"数据库设计规约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库设计规约"}},[_._v("#")]),_._v(" 数据库设计规约")]),_._v(" "),t("p",[_._v("**注意：**数据库设计规约并不是数据库设计的严格规范，根据不同团队的不同要求设计")]),_._v(" "),t("p",[_._v("本项目参考《阿里巴巴Java开发手册》：五、MySQL数据库")]),_._v(" "),t("p",[_._v("1、库名与应用名称尽量一致")]),_._v(" "),t("p",[_._v("2、表名、字段名必须使用小写字母或数字，禁止出现数字开头，")]),_._v(" "),t("p",[_._v("3、表名不使用复数名词")]),_._v(" "),t("p",[_._v("4、表的命名最好是加上“业务名称_表的作用”。如，edu_teacher")]),_._v(" "),t("p",[_._v("5、表必备三字段：id, gmt_create, gmt_modified")]),_._v(" "),t("p",[_._v("6、单表行数超过 500 万行或者单表容量超过 2GB，才推荐进行分库分表。 说明：如果预计三年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。")]),_._v(" "),t("p",[_._v("7、表达是与否概念的字段，必须使用 is_xxx 的方式命名，数据类型是 unsigned tinyint （1 表示是，0 表示否）。")]),_._v(" "),t("p",[_._v("说明：任何字段如果为非负数，必须是 unsigned。")]),_._v(" "),t("p",[_._v("注意：POJO 类中的任何布尔类型的变量，都不要加 is 前缀。数据库表示是与否的值，使用 tinyint 类型，坚持 is_xxx 的 命名方式是为了明确其取值含义与取值范围。")]),_._v(" "),t("p",[_._v("正例：表达逻辑删除的字段名 is_deleted，1 表示删除，0 表示未删除。")]),_._v(" "),t("p",[_._v("8、小数类型为 decimal，禁止使用 float 和 double。 说明：float 和 double 在存储的时候，存在精度损失的问题，很可能在值的比较时，得到不 正确的结果。如果存储的数据范围超过 decimal 的范围，建议将数据拆成整数和小数分开存储。")]),_._v(" "),t("p",[_._v("9、如果存储的字符串长度几乎相等，使用 char 定长字符串类型。")]),_._v(" "),t("p",[_._v("10、varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，如果存储长度大于此值，定义字段类型为 text，独立出来一张表，用主键来对应，避免影响其它字段索引效率。")]),_._v(" "),t("p",[_._v("11、唯一索引名为 uk_字段名(unique key)；普通索引名则为 idx_字段名(index)。")]),_._v(" "),t("p",[_._v("说明：uk_ 即 unique key；idx_ 即 index 的简称")]),_._v(" "),t("p",[_._v("12、不得使用外键与级联，一切外键概念必须在应用层解决。外键与级联更新适用于单机低并发，不适合分布式、高并发集群；级联更新是强阻塞，存在数据库更新风暴的风险；外键影响数据库的插入速度。")])])}),[],!1,null,null,null);t.default=v.exports}}]);