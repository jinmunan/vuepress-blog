(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{430:function(s,a,t){"use strict";t.r(a);var e=t(3),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"git-持续更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-持续更新"}},[s._v("#")]),s._v(" Git 持续更新")]),s._v(" "),a("h2",{attrs:{id:"一、取消工作区修改的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、取消工作区修改的文件"}},[s._v("#")]),s._v(" 一、取消工作区修改的文件")]),s._v(" "),a("p",[s._v("前提是文件已经进入版本库，比方说修改了一个文件又不想要了，或者不小心删了一个文件的情况。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout 文件名  // 放弃所有的修改，删除的会复原\n或者\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" restore "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("  // 放弃所有的修改，删除的会复原\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"二、取消已暂存的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、取消已暂存的文件"}},[s._v("#")]),s._v(" 二、取消已暂存的文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" restore "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--staged")]),s._v(" 文件名\n或者\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD 文件名\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n或者\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--cached")]),s._v(" 文件名\n以上三种方式只是将文件从暂存区删除，本地还在\n-----------------------------------------------------------------\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" 文件名\n直接删除文件，本地文件也删除\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"三、取消以提交到版本库的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、取消以提交到版本库的文件"}},[s._v("#")]),s._v(" 三、取消以提交到版本库的文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果你想全部撤回并回到远程仓库最新的状态(不保存代码修改)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--hard")]),s._v(" commit_id\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取一下远程最新的")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull \n-------------------------------------------------------------------------------------\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件拉回工作区，将文件撤销出版本库和暂存区")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--mixed")]),s._v(" commitid\n或\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset commitid\n-------------------------------------------------------------------------------------\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件撤销出版本库，但是将文件保留在暂存区")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--soft")]),s._v(" commitid\n-------------------------------------------------------------------------------------\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤销修改并回到远程最新的版本(不保存代码修改)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--all")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉去远程分支但不合并")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--hard")]),s._v(" origin/master  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将本地分支变成远程分支")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"_1、参数说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、参数说明"}},[s._v("#")]),s._v(" 1、参数说明")]),s._v(" "),a("p",[a("code",[s._v("HEAD")]),s._v(" 是当前分支引用的指针，它总是指向某次commit，默认是上一次的commit。也就是指向的版本库。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/jinmunan/imgs@master/tool/git/update/image-20221027141449333.png",alt:"image-20221027141449333"}})]),s._v(" "),a("h2",{attrs:{id:"四、取消已经提交到远程仓库的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、取消已经提交到远程仓库的文件"}},[s._v("#")]),s._v(" 四、取消已经提交到远程仓库的文件")]),s._v(" "),a("p",[s._v("假设你已经叫最新版本提交到远程仓库了，想要回退。")]),s._v(" "),a("div",{staticStyle:{color:"red"}},[s._v(" 注意代码备份")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 原理是将版本回退到上一个版本库，再提交到远程仓库，就可以撤销版本。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--hard")]),s._v(" commit_id // 回退到某个版本 id就是你的版本号\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin HEAD "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--force")]),s._v(" // 强制推送到远程，可能会受到保护\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"五、查看提交历史"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、查看提交历史"}},[s._v("#")]),s._v(" 五、查看提交历史")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看到所有历史提交记录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reflog\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看提交历史 回车键查看下一条 q键退出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看最近的前两条提交")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在一行显示最近的前两条提交")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--pretty")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义格式化显示")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--pretty")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("format:"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%h | %an | %ar | %s"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"六、显示暂存区文件信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、显示暂存区文件信息"}},[s._v("#")]),s._v(" 六、显示暂存区文件信息")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" ls-files\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--cached")]),s._v(" \n在输出中显示缓存的文件（默认） 。\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--deleted")]),s._v(" \n在输出中显示已删除的文件。\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--modified")]),s._v(" \n在输出中显示已修改的文件。\n-o, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--others")]),s._v("\n显示其他类型的文件（比如未追踪的）。\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ignored")]),s._v(" \n在输出中只显示被忽略的文件。\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--stage")]),s._v(" \n在输出中显示暂存内容的模式位，对象名称和阶段编号。 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h2",{attrs:{id:"七、版本对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、版本对比"}},[s._v("#")]),s._v(" 七、版本对比")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" commit_id "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前版本库和某一版本做对比")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);