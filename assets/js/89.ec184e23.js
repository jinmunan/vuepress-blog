(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{419:function(t,a,s){"use strict";s.r(a);var n=s(3),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"maven微服务案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven微服务案例"}},[t._v("#")]),t._v(" Maven微服务案例")]),t._v(" "),a("h2",{attrs:{id:"创建工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建工程"}},[t._v("#")]),t._v(" 创建工程")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/jinmunan/imgs@master/tool/maven/microservice/image-20221027144029169.png",alt:"image-20221027144029169"}})]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("工程名")]),t._v(" "),a("th",[t._v("地位")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("maven-microservices-project")]),t._v(" "),a("td",[t._v("父工程")]),t._v(" "),a("td",[t._v("总体管理各个子工程")])]),t._v(" "),a("tr",[a("td",[t._v("gateway")]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("网关")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("user-auth-center")])]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("用户中心")])]),t._v(" "),a("tr",[a("td",[t._v("emp-manager-center")]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("员工数据维护中心")])]),t._v(" "),a("tr",[a("td",[t._v("memorials-manager-center")]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("奏折数据维护中心")])]),t._v(" "),a("tr",[a("td",[t._v("working-manager-center")]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("批阅奏折工作中心")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("mysql-data-provider")])]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("MySQL 数据提供者")])]),t._v(" "),a("tr",[a("td",[t._v("redis-data-provider")]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("Redis 数据提供者")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("base-api")])]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("声明 Feign 接口")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("base-entity")])]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("实体类")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("base-util")])]),t._v(" "),a("td",[t._v("子工程")]),t._v(" "),a("td",[t._v("工具类")])])])]),t._v(" "),a("h2",{attrs:{id:"登录案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录案例"}},[t._v("#")]),t._v(" 登录案例")]),t._v(" "),a("ul",[a("li",[t._v("mysql-date-provider是服务的提供者")]),t._v(" "),a("li",[t._v("base-api-openfeign是服务调用接口")]),t._v(" "),a("li",[t._v("user-auth-center是服务的消费者")])]),t._v(" "),a("h2",{attrs:{id:"微服务打包顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#微服务打包顺序"}},[t._v("#")]),t._v(" 微服务打包顺序")]),t._v(" "),a("ul",[a("li",[t._v("父工程")]),t._v(" "),a("li",[t._v("当前 module：mysql-data-provider")])]),t._v(" "),a("h2",{attrs:{id:"微服务打包插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#微服务打包插件"}},[t._v("#")]),t._v(" 微服务打包插件")]),t._v(" "),a("p",[t._v("通过 SpringBoot 微服务打包插件可以将当前jar打成")]),t._v(" "),a("ul",[a("li",[t._v("当前微服务本身代码")]),t._v(" "),a("li",[t._v("当前微服务所依赖的 jar 包")]),t._v(" "),a("li",[t._v("内置 Tomcat（Servlet 容器）")]),t._v(" "),a("li",[t._v("与 jar 包可以通过 java -jar 方式直接启动相关的配置")])]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- build 标签：用来配置对构建过程的定制 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- plugins 标签：定制化构建过程中所使用到的插件 --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- plugin 标签：一个具体插件 --\x3e")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-maven-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"打包命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包命令"}},[t._v("#")]),t._v(" 打包命令")]),t._v(" "),a("p",[t._v("打开终端，在父工程下输入")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("mvn clean "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Dmaven.test.skip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("进入"),a("strong",[t._v("mysql-data-provider")]),t._v("  ，输入")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("mvn clean package spring-boot:repackage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Dmaven.test.skip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入jar启动命令")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("java "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jar mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("provider"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SNAPSHOT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar\njava "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jar user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("auth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("center"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SNAPSHOT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("访问"),a("code",[t._v("localhost:10002")]),t._v("测试")])])}),[],!1,null,null,null);a.default=r.exports}}]);